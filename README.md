# Приложение для подсчета пассажиров

Приложение является минимально рабочим (демонстрационным) и требует доработки в части обнаружения объектов (людей) и более корректного подсчета. Объекты размечены с помощью автоматического аннотирования и не проходили модерацию, что может привести к ошибкам в точности и устойчивости обнаружения и трекинга объектов.

Для обнаружения используется модифицированная нейросеть **Yolov8**. Мощность сети составляет **0.6 TOPS**, что достаточно для обработки на таких платформах, как **Rockchip RK3588** (производительность 6 TOPS). В дальнейшем мощность сети можно увеличить, но потребуется тестирование на платформе **Rockchip RK3588**.

## Требования к системе

Для запуска приложения необходима операционная система **Ubuntu** версии не ниже **18.04**.

## Установка зависимостей

### Установка библиотеки Eigen

1. Скачайте и установите библиотеку [Eigen](https://gitlab.com/libeigen/eigen/-/releases/3.3.9).

```bash
# Пример установки Eigen:
unzip eigen-3.3.9.zip
cd eigen-3.3.9
mkdir build
cd build
cmake ..
sudo make install
```

## Установка OpenCV 4.10
Установите OpenCV 4.10 с помощью скрипта [install_opencv4.10.0.sh](https://github.com/Pavlo2802/example-passengers/blob/main/install_opencv4.10.0.sh).
```bash
# Пример установки OpenCV:
./install_opencv4.10.0.sh
```
## Работа с приложением
### Подготовка файлов
1. Поместите видеофайлы, в которых требуется подсчитать количество пассажиров, в каталог video.

2. В каталоге weights находятся веса нейронной сети.

### Запуск приложения
``` bash
# Запуск с синхронизацией на частоту 25 fps
./main25
# Запуск без синхронизации
./main
```
### Структура каталогов
Пример структуры каталогов для работы с приложением:
```
example-passenger
|
|----main
|
|----classes-custom.txt
|
|---/video
|    |-------filel1.avi
|    |-------filel2.avi 
|    |-------filel1.avi 
|    |-------[...]
|
|---/weights 
|    |-------best.onnx
|
```
## Примечания
- Убедитесь, что все необходимые каталоги и файлы присутствуют перед запуском приложения..














