**Приложение подсчета пассажиров**  
Приложение является минимально рабочим (демонстрационным) и требует доработки в части обнаружения объектов (людей) и доработки в части более корректного подсчета. Объекты размечены с помощью автоматического аннотирования и не проходили модерацию, что влечет за собой ошибки в точности и устойчивости обнаружении и трекинга объектов.
Для обнаружения используется модифицированная нейросеть Yolov8, мощность сети равна 0.6 TOPS, что достаточно для обработки на таких платформах как **rockchip rk3588** (производительность 6 TOPS). В дальнейшем, мощность сети возможно увеличить, необходимо будет провести тестирование непосредственно на платформе **rockchip rk3588**.

Для запуска приложения необходима операционная система Ubuntu - не ниже 18.04. 
- Установить библиотеку [Eigen](https://gitlab.com/libeigen/eigen/-/releases/3.3.9).
```
Пример установки Eigen:
unzip eigen-3.3.9.zip
cd eigen-3.3.9
mkdir build
cd build
cmake ..
sudo make install
```

- Установить Opencv 4.10 с помощью скрипта install_opencv4.10.0.sh [Opencv 4.10](:/main/install_opencv4.10.0.sh).
```
Пример установки opencv:
./install_opencv4.10.0.sh
```
* * *
**Работа с приложением**   
В каталог *video* необходимо поместить файлы, в которых требуется подсчитать количество пассажиров. 
В каталоге *weights* находятся веса сети. 
```
Пример запуска приложения:
# синхронизация на частоту 25 fps
./main25

# без синхронизации
./main
```
Запуск приложения необходимо производить вместе с каталогами *video* и *weights* и файлом *classes-custom.txt*. 

Пример дерева каталогов:
```
example-passenger
|
|----main
|
|----classes-custom.txt
|
|---/video
| |-------filel1.avi
| |-------filel2.avi 
| |-------filel1.avi 
| |-------[...]
|
|---/weights 
| |-------best.onnx
|
```

